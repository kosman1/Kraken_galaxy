<tool id="kraken" name="Classify with kraken" version="0.1.0">
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <requirements>
        <requirement type="package" version="0.10.3-beta">Kraken</requirement>
    </requirements>
    <command><![CDATA[
        kraken --db $DBNAME $input1 > $output1
    ]]></command>
    <inputs>
        <!-- TODO -->
	      <param type="data" name=$DBNAME format=directory />
        <!-- TODO -->
        <param type="data" name="input1" format="fa" />
    </inputs>
    <outputs>
        <data name="output1" format="txt" from_work_dir="classified_seqs.txt" />
    </outputs>
    <tests>
        <test>
            <param name="input1" value="seqs.fa"/>
            <output name="output1" file="classified_seqs.txt"/>
        </test>
    </tests>
    <help><![CDATA[
        Usage: kraken [options] <FASTA/FASTQ filename(s)>

Options:
  --db NAME               Name for Kraken DB
  --threads NUM           Number of threads
  --fastq-input           Input is FASTQ, not FASTA format
  --quick                 Quick operation (use first hit or hits)
  --min-hits NUM          In quick op., number of hits req'd for classification
                          NOTE: this is ignored if --quick is not specified
  --unclassified-out FILENAME
                          Print unclassified sequences to filename
  --classified-out FILENAME
                          Print classified sequences to filename
  --output FILENAME       Print output to filename (def. is stdout); "-" will
                          suppress normal output
  --preload               Loads DB into memory before classification
  --help                  Print this message
  --version               Print version information

    ]]></help>
    <citations>
      <citation type="doi">10.1186/gb-2014-15-3-r46</citation>
    </citations>
</tool>